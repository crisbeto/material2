@import '@material/menu-surface/mixins';
@import '@material/list/mixins';
@import '@material/list/variables';
@import '../core/style/button-common';
@import '../core/style/menu-common';
@import '../core/style/layout-common';

$mat-menu-submenu-indicator-size: 10px !default;

@include mdc-menu-surface-core-styles($query: structure);

.mat-menu-content {
  @include mdc-list-base_($query: structure);
}

.mat-menu-panel {
  @include mat-menu-base();
  position: static;
}

.mat-menu-item {
  @include mdc-list-item-base_;
  @include mat-button-reset();
  background: none;
  width: 100%;
  text-align: left;
  box-sizing: border-box;
  color: inherit;
  font-size: inherit;

  &[disabled] {
    cursor: default;
  }

  .mat-icon {
    margin-right: $mdc-list-side-padding;
  }

  [dir='rtl'] & {
    text-align: right;

    .mat-icon {
      margin-right: 0;
      margin-left: $mdc-list-side-padding;
    }
  }
}

.mat-menu-item-submenu-trigger {
  // Increase the side padding to prevent the indicator from overlapping the text.
  padding-right: $mdc-list-side-padding * 2;

  // Renders a triangle to indicate that the menu item will open a sub-menu.
  &::after {
    $size: $mat-menu-submenu-indicator-size / 2;

    width: 0;
    height: 0;
    border-style: solid;
    border-width: $size 0 $size $size;
    border-color: transparent transparent transparent currentColor;
    content: '';
    display: inline-block;
    position: absolute;
    top: 50%;
    right: $mdc-list-side-padding;
    transform: translateY(-50%);
  }

  [dir='rtl'] & {
    padding-right: $mdc-list-side-padding;
    padding-left: $mdc-list-side-padding * 2;

    &::after {
      right: auto;
      left: $mdc-list-side-padding;
      transform: rotateY(180deg) translateY(-50%);
    }
  }
}

// Increase specificity because ripple styles are part of the `mat-core` mixin and can
// potentially overwrite the absolute position of the container.
.mat-menu-item .mat-menu-ripple {
  @include mat-fill;

  // Prevent any pointer events on the ripple container for a menu item. The ripple container is
  // not the trigger element for the ripples and can be therefore disabled like that. Disabling
  // the pointer events ensures that there is no `click` event that can bubble up and cause
  // the menu panel to close.
  pointer-events: none;
}
